var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(n,t,l)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[t]=l;import{d as o,r,o as i,c as p,a as c,w as m,b as f,e as d,v,f as b,g,t as h,h as x,F as y,i as E}from"./vendor.f12c8b32.js";var N=o({name:"epr-slider-button",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Array,default:[1,"5%","10%"]},precision:{type:Number,default:2}},emits:["change"],setup(e,{emit:n}){const t=r(),l=r();let a=0,s=0,u=0,o=0,p=!1,c=0;function m(){const e=window.getComputedStyle(t.value).left;return Number(e.replace("px",""))}function f(){const t=m(),l=(e.max-e.min)*t/(s-a)+e.min;n("change",function(n){const t=e.precision,l=new RegExp(`^(.*\\..{${t}}).*$`);return+n.toString().replace(l,"$1")}(l))}return i((()=>{!function(){if(s=l.value.offsetWidth,a=t.value.offsetWidth,e.modelValue<e.min||e.modelValue>e.max)return console.error("[EPR SLIDER BUTTON]: 当前值不能小于最小值或大于最大值");{const n=e.modelValue*(s-a)/(e.max-e.min);t.value.style.left=n+"px"}}()})),{track:l,slider:t,handleChange:function(n){const l=m(),u=e.step[0];let o=0;if("string"==typeof u)o=u.includes("%")?(s-a)*Number(u.replace("%",""))/100:Number(u)*(s-a)/(e.max-e.min);else{if("number"!=typeof u)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');o=u*(s-a)/(e.max-e.min)}"left"===n&&(t.value.style.left=l-o<0?"0px":l-o+"px"),"right"===n&&(t.value.style.left=l+a+o<s?l+o+"px":s-a+"px"),f()},mousedownEvent:function(n){u=setTimeout((()=>{!function(n){u=0;const l=n.offsetX,r=e.step[2];let i=0;if("string"==typeof r)i=r.includes("%")?(s-a)*Number(r.replace("%",""))/100:Number(r)*(s-a)/(e.max-e.min);else{if("number"!=typeof r)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');i=r*(s-a)/(e.max-e.min)}o=setInterval((()=>{const e=m();t.value.style.left=l>e?e+i<s-a?e+i+"px":s-a+"px":e-i>0?e-i+"px":"0px",f()}),250)}(n)}),300)},mouseupEvent:function(n){if(clearTimeout(u),clearInterval(o),0!==u){const l=n.offsetX,u=m(),o=e.step[1];let r=0;if("string"==typeof o)r=o.includes("%")?(s-a)*Number(o.replace("%",""))/100:Number(o)*(s-a)/(e.max-e.min);else{if("number"!=typeof o)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');r=o*(s-a)/(e.max-e.min)}t.value.style.left=l>u?u+r<s-a?u+r+"px":s-a+"px":u-r>0?u-r+"px":"0px",f()}},clearTimer:function(){clearTimeout(u),clearInterval(o)},sliderMouseDown:function(e){p=!0;const n=m();c=e.clientX-n},sliderMouseMove:function(e){p&&(e.clientX-c<0?t.value.style.left="0px":e.clientX-c>s-a?t.value.style.left=s-a+"px":t.value.style.left=e.clientX-c+"px",f())},sliderMouseUp:function(){p=!1},sliderMouseOut:function(){p=!1}}}});const M={class:"epr-btn"},w=c("span",{class:"math-minus"},null,-1),C=c("span",{class:"math-plus"},null,-1);N.render=function(e,n,t,l,a,s){return f(),p("div",M,[c("span",{class:"epr-btn-reduce",onClick:n[1]||(n[1]=n=>e.handleChange("left"))},[w]),c("span",{class:"epr-btn-track",onMousedown:n[6]||(n[6]=m(((...n)=>e.mousedownEvent&&e.mousedownEvent(...n)),["self"])),onMouseup:n[7]||(n[7]=m(((...n)=>e.mouseupEvent&&e.mouseupEvent(...n)),["self"])),onMouseout:n[8]||(n[8]=(...n)=>e.clearTimer&&e.clearTimer(...n)),ref:"track"},[c("span",{class:"epr-btn-slider",ref:"slider",onMousedown:n[2]||(n[2]=(...n)=>e.sliderMouseDown&&e.sliderMouseDown(...n)),onMouseup:n[3]||(n[3]=(...n)=>e.sliderMouseUp&&e.sliderMouseUp(...n)),onMousemove:n[4]||(n[4]=(...n)=>e.sliderMouseMove&&e.sliderMouseMove(...n)),onMouseout:n[5]||(n[5]=(...n)=>e.sliderMouseOut&&e.sliderMouseOut(...n))},null,544)],544),c("span",{class:"epr-btn-increase",onClick:n[9]||(n[9]=n=>e.handleChange("right"))},[C])])};var I=o({name:"epr-slider-input",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{default:[1,1]},precision:{type:Number,default:2}},emits:["change"],setup(e,{emit:n}){const t=r(0);function l(n){const l=e.precision,a=new RegExp(`^(.*\\..{${l}}).*$`),s=n.toString().replace(a,"$1");return t.value=+s,+s}return i((()=>{!function(){if(e.modelValue<e.min||e.modelValue>e.max)return console.error("[EPR SLIDER INPUT]: 当前值不能小于最小值或大于最大值");t.value=e.modelValue}()})),{value:t,keyEvent:function(a){e.step[1]&&("down"===a&&(t.value-e.step[1]>=e.min?t.value-=e.step[1]:t.value=e.min),"up"===a&&(t.value+e.step[1]<=e.max?t.value+=e.step[1]:t.value=e.max),n("change",l(t.value)))},changeEvent:function(a){const s=a.target.value;if(isNaN(Number(s))){t.value=0;n("change",0,"[EPR SLIDER INPUT]: 输入的值错误，请检查后输入")}else{const a=Number(s);if(a>e.max||a<e.min){const e="[EPR SLIDER INPUT]: 输入的值不能小于最小值或大于最大值，请检查后输入";t.value=0,n("change",0,e)}else t.value=a,n("change",l(a))}},handleChange:function(a){"left"===a&&(t.value-e.step[0]>=e.min?t.value-=e.step[0]:t.value=e.min),"right"===a&&(console.log(typeof t.value,typeof e.step[0],t.value,e.step[0],e.precision),t.value+e.step[0]<=e.max?t.value-=-e.step[0]:t.value=e.max),n("change",l(t.value))}}}});const T={class:"epr-btn"},O=c("span",{class:"math-minus"},null,-1),R={class:"epr-btn-content"},P=c("span",{class:"math-plus"},null,-1);I.render=function(e,n,t,l,a,s){return f(),p("div",T,[c("span",{class:"epr-btn-reduce",onClick:n[1]||(n[1]=n=>e.handleChange("left"))},[O]),c("span",R,[d(c("input",{class:"epr-btn-input","onUpdate:modelValue":n[2]||(n[2]=n=>e.value=n),type:"text",onChange:n[3]||(n[3]=(...n)=>e.changeEvent&&e.changeEvent(...n)),onKeydown:[n[4]||(n[4]=b((n=>e.keyEvent("down")),["down"])),n[5]||(n[5]=b((n=>e.keyEvent("up")),["up"]))]},null,544),[[v,e.value]])]),c("span",{class:"epr-btn-increase",onClick:n[6]||(n[6]=n=>e.handleChange("right"))},[P])])};var V=o({name:"App",components:{eprSliderButton:N,eprSliderInput:I},setup(){const e=g({min:0,max:100,step:[.211,"2","3%"],step2:[.001,2],value:50,value2:30,precision:3});return o=((e,n)=>{for(var t in n||(n={}))a.call(n,t)&&u(e,t,n[t]);if(l)for(var t of l(n))s.call(n,t)&&u(e,t,n[t]);return e})({},h(e)),n(o,t({sliderBtnChange:function(n){e.value=n},sliderInputChange:function(n,t){e.value2=n,t&&console.log(t)}}));var o}});const S=c("br",null,null,-1);V.render=function(e,n,t,l,a,s){const u=x("epr-slider-button"),o=x("epr-slider-input");return f(),p(y,null,[c(u,{min:e.min,max:e.max,step:e.step,modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=n=>e.value=n),precision:e.precision,onChange:e.sliderBtnChange},null,8,["min","max","step","modelValue","precision","onChange"]),S,c(o,{min:e.min,max:e.max,step:e.step2,modelValue:e.value2,"onUpdate:modelValue":n[2]||(n[2]=n=>e.value2=n),precision:e.precision,onChange:e.sliderInputChange},null,8,["min","max","step","modelValue","precision","onChange"])],64)},E(V).mount("#app");
