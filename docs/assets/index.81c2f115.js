var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(n,t,l)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[t]=l;import{d as u,r as a,o as i,c as p,a as c,w as m,b as f,e as d,t as v,f as b,g as x,F as y,h as g}from"./vendor.4f6ab1b9.js";var h=u({name:"epr-slider-button",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Array,default:[1,"5%","10%"]},precision:{type:Number,default:2}},emits:["change"],setup(e,{emit:n}){const t=a(),l=a();let r=0,s=0,o=0,u=0,p=!1,c=0;function m(){const e=window.getComputedStyle(t.value).left;return Number(e.replace("px",""))}function f(){const t=m(),l=(e.max-e.min)*t/(s-r)+e.min;n("change",function(n){const t=e.precision;let l=(Math.round(100*n)/100).toString(),r=l.indexOf(".");for(r<0&&(r=l.length,l+=".");l.length<=r+t;)l+="0";return+l}(l))}return i((()=>{!function(){if(s=l.value.offsetWidth,r=t.value.offsetWidth,e.modelValue<e.min||e.modelValue>e.max)return console.error("[EPR SLIDER BUTTON]: 当前值不能小于最小值或大于最大值");{const n=e.modelValue*(s-r)/(e.max-e.min);t.value.style.left=n+"px"}}()})),{track:l,slider:t,handleChange:function(n){const l=m(),o=e.step[0];let u=0;if("string"==typeof o)u=o.includes("%")?(s-r)*Number(o.replace("%",""))/100:Number(o)*(s-r)/(e.max-e.min);else{if("number"!=typeof o)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');u=o*(s-r)/(e.max-e.min)}"left"===n&&(t.value.style.left=l-u<0?"0px":l-u+"px"),"right"===n&&(t.value.style.left=l+r+u<s?l+u+"px":s-r+"px"),f()},mousedownEvent:function(n){o=setTimeout((()=>{!function(n){o=0;const l=n.offsetX,a=e.step[2];let i=0;if("string"==typeof a)i=a.includes("%")?(s-r)*Number(a.replace("%",""))/100:Number(a)*(s-r)/(e.max-e.min);else{if("number"!=typeof a)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');i=a*(s-r)/(e.max-e.min)}u=setInterval((()=>{const e=m();t.value.style.left=l>e?e+i<s-r?e+i+"px":s-r+"px":e-i>0?e-i+"px":"0px",f()}),250)}(n)}),300)},mouseupEvent:function(n){if(clearTimeout(o),clearInterval(u),0!==o){const l=n.offsetX,o=m(),u=e.step[1];let a=0;if("string"==typeof u)a=u.includes("%")?(s-r)*Number(u.replace("%",""))/100:Number(u)*(s-r)/(e.max-e.min);else{if("number"!=typeof u)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');a=u*(s-r)/(e.max-e.min)}t.value.style.left=l>o?o+a<s-r?o+a+"px":s-r+"px":o-a>0?o-a+"px":"0px",f()}},clearTimer:function(){clearTimeout(o),clearInterval(u)},sliderMouseDown:function(e){p=!0;const n=m();c=e.clientX-n},sliderMouseMove:function(e){p&&(e.clientX-c<0?t.value.style.left="0px":e.clientX-c>s-r?t.value.style.left=s-r+"px":t.value.style.left=e.clientX-c+"px",f())},sliderMouseUp:function(){p=!1},sliderMouseOut:function(){p=!1}}}});const M={class:"epr-btn"},O=c("span",{class:"math-minus"},null,-1),w=c("span",{class:"math-plus"},null,-1);h.render=function(e,n,t,l,r,s){return f(),p("div",M,[c("span",{class:"epr-btn-reduce",onClick:n[1]||(n[1]=n=>e.handleChange("left"))},[O]),c("span",{class:"epr-btn-track",onMousedown:n[6]||(n[6]=m(((...n)=>e.mousedownEvent&&e.mousedownEvent(...n)),["self"])),onMouseup:n[7]||(n[7]=m(((...n)=>e.mouseupEvent&&e.mouseupEvent(...n)),["self"])),onMouseout:n[8]||(n[8]=(...n)=>e.clearTimer&&e.clearTimer(...n)),ref:"track"},[c("span",{class:"epr-btn-slider",ref:"slider",onMousedown:n[2]||(n[2]=(...n)=>e.sliderMouseDown&&e.sliderMouseDown(...n)),onMouseup:n[3]||(n[3]=(...n)=>e.sliderMouseUp&&e.sliderMouseUp(...n)),onMousemove:n[4]||(n[4]=(...n)=>e.sliderMouseMove&&e.sliderMouseMove(...n)),onMouseout:n[5]||(n[5]=(...n)=>e.sliderMouseOut&&e.sliderMouseOut(...n))},null,544)],544),c("span",{class:"epr-btn-increase",onClick:n[9]||(n[9]=n=>e.handleChange("right"))},[w])])},u({name:"epr-slider-input",setup(){i((()=>{console.log("epr slider input")}))}}).render=function(e,n,t,l,r,s){return f(),p("div",null,"slider input")};var E=u({name:"App",components:{eprSliderButton:h},setup(){const e=a(20),u=a(100),i=d({min:0,max:100,step:[1,"2","3%"],value:50,precision:2});return p=((e,n)=>{for(var t in n||(n={}))r.call(n,t)&&o(e,t,n[t]);if(l)for(var t of l(n))s.call(n,t)&&o(e,t,n[t]);return e})({value1:e,value2:u},v(i)),n(p,t({slider1BtnChange:function(e){i.value=e}}));var p}});E.render=function(e,n,t,l,r,s){const o=b("epr-slider-button");return f(),p(y,null,[c("p",null,"value: "+x(e.value),1),c("p",null,"min: "+x(e.min),1),c("p",null,"max: "+x(e.max),1),c("p",null,"step: "+x(e.step),1),c(o,{min:e.min,max:e.max,step:e.step,modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=n=>e.value=n),precision:e.precision,onChange:e.slider1BtnChange},null,8,["min","max","step","modelValue","precision","onChange"])],64)},g(E).mount("#app");
