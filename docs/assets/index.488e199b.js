var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(n,t,l)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[t]=l;import{d as r,r as u,o as i,c as p,a as c,w as m,b as v,e as f,v as d,f as x,g as b,t as g,h as y,i as h,F as E,j as M}from"./vendor.6311d729.js";var N=r({name:"epr-slider-button",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Array,default:[1,2,"5%","10%"]},precision:{type:Number,default:2}},emits:["change"],setup(e,{emit:n}){const t=u(),l=u();let s=0,a=0,o=0,r=0,p=0,c=0,m=!1,v=0;function f(){const e=window.getComputedStyle(t.value).left;return Number(e.replace("px",""))}function d(){const t=f(),l=(e.max-e.min)*t/(a-s)+e.min;n("change",function(n){const t=e.precision,l=new RegExp(`^(.*\\..{${t}}).*$`);return+n.toString().replace(l,"$1")}(l))}return i((()=>{!function(){if(a=l.value.offsetWidth,s=t.value.offsetWidth,e.modelValue<e.min||e.modelValue>e.max)return console.error("[EPR SLIDER BUTTON]: 当前值不能小于最小值或大于最大值");{const n=e.modelValue*(a-s)/(e.max-e.min);t.value.style.left=n+"px"}}()})),{track:l,slider:t,btnMouseDownEvent:function(n,l){o=setTimeout((()=>{!function(n,l){o=0;const u=e.step[1];let i=0;if("string"==typeof u)i=u.includes("%")?(a-s)*Number(u.replace("%",""))/100:Number(u)*(a-s)/(e.max-e.min);else{if("number"!=typeof u)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');i=u*(a-s)/(e.max-e.min)}r=setInterval((()=>{const e=f();"left"===n&&(t.value.style.left=e-i>=0?e-i+"px":"0px"),"right"===n&&(t.value.style.left=e+i<=a-s?e+i+"px":a-s+"px"),d()}),250)}(n)}),300)},btnMouseUpEvent:function(n,l){if(clearTimeout(o),clearInterval(r),0!==o){const l=e.step[0];let o=0;if("string"==typeof l)o=l.includes("%")?(a-s)*Number(l.replace("%",""))/100:Number(l)*(a-s)/(e.max-e.min);else{if("number"!=typeof l)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');o=l*(a-s)/(e.max-e.min)}const r=f();"left"===n&&(t.value.style.left=r-o>=0?r-o+"px":"0px"),"right"===n&&(t.value.style.left=r+o<=a-s?r+o+"px":a-s+"px"),d()}},clearBtnTimer:function(){clearTimeout(o),clearInterval(r)},trackMouseDownEvent:function(n){p=setTimeout((()=>{!function(n){p=0;const l=n.offsetX,o=e.step[3];let r=0;if("string"==typeof o)r=o.includes("%")?(a-s)*Number(o.replace("%",""))/100:Number(o)*(a-s)/(e.max-e.min);else{if("number"!=typeof o)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');r=o*(a-s)/(e.max-e.min)}c=setInterval((()=>{const e=f();t.value.style.left=l>e?e+r<a-s?e+r+"px":a-s+"px":e-r>0?e-r+"px":"0px",d()}),250)}(n)}),300)},trackMouseUpEvent:function(n){if(clearTimeout(p),clearInterval(c),0!==p){const l=n.offsetX,o=f(),r=e.step[2];let u=0;if("string"==typeof r)u=r.includes("%")?(a-s)*Number(r.replace("%",""))/100:Number(r)*(a-s)/(e.max-e.min);else{if("number"!=typeof r)return console.error('[EPR SLIDER BUTTON]: 步进的值只能为：整数，数字型字符串 或 带百分号的字符串，如：[1, "2", "5%"]');u=r*(a-s)/(e.max-e.min)}t.value.style.left=l>o?o+u<a-s?o+u+"px":a-s+"px":o-u>0?o-u+"px":"0px",d()}},clearTrackTimer:function(){clearTimeout(p),clearInterval(c)},sliderMouseDown:function(e){m=!0;const n=f();v=e.clientX-n},sliderMouseMove:function(e){m&&(e.clientX-v<0?t.value.style.left="0px":e.clientX-v>a-s?t.value.style.left=a-s+"px":t.value.style.left=e.clientX-v+"px",d())},sliderMouseUp:function(){m=!1},sliderMouseOut:function(){m=!1}}}});const T={class:"epr-btn"},w=c("span",{class:"gg-chevron-left"},null,-1),I=c("span",{class:"gg-chevron-right"},null,-1);N.render=function(e,n,t,l,s,a){return v(),p("div",T,[c("span",{class:"epr-btn-reduce",onMousedown:n[1]||(n[1]=n=>e.btnMouseDownEvent("left",n)),onMouseup:n[2]||(n[2]=n=>e.btnMouseUpEvent("left",n)),onMouseout:n[3]||(n[3]=(...n)=>e.clearBtnTimer&&e.clearBtnTimer(...n))},[w],32),c("span",{class:"epr-btn-track",onMousedown:n[8]||(n[8]=m(((...n)=>e.trackMouseDownEvent&&e.trackMouseDownEvent(...n)),["self"])),onMouseup:n[9]||(n[9]=m(((...n)=>e.trackMouseUpEvent&&e.trackMouseUpEvent(...n)),["self"])),onMouseout:n[10]||(n[10]=(...n)=>e.clearTrackTimer&&e.clearTrackTimer(...n)),ref:"track"},[c("span",{class:"epr-btn-slider",ref:"slider",onMousedown:n[4]||(n[4]=(...n)=>e.sliderMouseDown&&e.sliderMouseDown(...n)),onMouseup:n[5]||(n[5]=(...n)=>e.sliderMouseUp&&e.sliderMouseUp(...n)),onMousemove:n[6]||(n[6]=(...n)=>e.sliderMouseMove&&e.sliderMouseMove(...n)),onMouseout:n[7]||(n[7]=(...n)=>e.sliderMouseOut&&e.sliderMouseOut(...n))},null,544)],544),c("span",{class:"epr-btn-increase",onMousedown:n[11]||(n[11]=n=>e.btnMouseDownEvent("right",n)),onMouseup:n[12]||(n[12]=n=>e.btnMouseUpEvent("right",n))},[I],32)])};var R=r({name:"epr-slider-input",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{default:[1,1]},precision:{type:Number,default:2}},emits:["change"],setup(e,{emit:n}){const t=u(0);function l(n){const l=e.precision,s=new RegExp(`^(.*\\..{${l}}).*$`),a=n.toString().replace(s,"$1");return t.value=+a,+a}return i((()=>{!function(){if(e.modelValue<e.min||e.modelValue>e.max)return console.error("[EPR SLIDER INPUT]: 当前值不能小于最小值或大于最大值");t.value=e.modelValue}()})),{value:t,keyEvent:function(s){e.step[1]&&("down"===s&&(t.value-e.step[1]>=e.min?t.value-=e.step[1]:t.value=e.min),"up"===s&&(t.value+e.step[1]<=e.max?t.value+=e.step[1]:t.value=e.max),n("change",l(t.value)))},changeEvent:function(s){const a=s.target.value;if(isNaN(Number(a))){t.value=0;n("change",0,"[EPR SLIDER INPUT]: 输入的值错误，请检查后输入")}else{const s=Number(a);if(s>e.max||s<e.min){const e="[EPR SLIDER INPUT]: 输入的值不能小于最小值或大于最大值，请检查后输入";t.value=0,n("change",0,e)}else t.value=s,n("change",l(s))}},handleChange:function(s){"left"===s&&(t.value-e.step[0]>=e.min?t.value-=e.step[0]:t.value=e.min),"right"===s&&(console.log(typeof t.value,typeof e.step[0],t.value,e.step[0],e.precision),t.value+e.step[0]<=e.max?t.value-=-e.step[0]:t.value=e.max),n("change",l(t.value))}}}});const U={class:"epr-btn"},P=c("span",{class:"gg-chevron-left"},null,-1),D={class:"epr-btn-content"},k=c("span",{class:"gg-chevron-right"},null,-1);R.render=function(e,n,t,l,s,a){return v(),p("div",U,[c("span",{class:"epr-btn-reduce",onClick:n[1]||(n[1]=n=>e.handleChange("left"))},[P]),c("span",D,[f(c("input",{class:"epr-btn-input","onUpdate:modelValue":n[2]||(n[2]=n=>e.value=n),type:"text",onChange:n[3]||(n[3]=(...n)=>e.changeEvent&&e.changeEvent(...n)),onKeydown:[n[4]||(n[4]=x((n=>e.keyEvent("down")),["down"])),n[5]||(n[5]=x((n=>e.keyEvent("up")),["up"]))]},null,544),[[d,e.value]])]),c("span",{class:"epr-btn-increase",onClick:n[6]||(n[6]=n=>e.handleChange("right"))},[k])])};var O=r({name:"App",components:{eprSliderButton:N,eprSliderInput:R},setup(){const e=b({min:0,max:100,step:[1,2,"3","4%"],step2:[1,2],value:50,value2:50,precision:2});return r=((e,n)=>{for(var t in n||(n={}))s.call(n,t)&&o(e,t,n[t]);if(l)for(var t of l(n))a.call(n,t)&&o(e,t,n[t]);return e})({},g(e)),n(r,t({sliderBtnChange:function(n){e.value=n},sliderInputChange:function(n,t){e.value2=n,t&&console.log(t)}}));var r}});const C=c("h1",null,"EPR Components",-1),S={class:"box"},V=c("div",{class:"title"},"EPR Slider Button",-1),B={class:"value"},j={class:"item"},L={class:"box"},X=c("div",{class:"title"},"EPR Slider Input",-1),$={class:"value"},A={class:"item"};O.render=function(e,n,t,l,s,a){const o=y("epr-slider-button"),r=y("epr-slider-input");return v(),p(E,null,[C,c("div",S,[V,c("div",B,"min: "+h(e.min)+" value: "+h(e.value)+" max: "+h(e.max)+" step: "+h(e.step)+" precision: "+h(e.precision),1),c("div",j,[c(o,{min:e.min,max:e.max,step:e.step,modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=n=>e.value=n),precision:e.precision,onChange:e.sliderBtnChange},null,8,["min","max","step","modelValue","precision","onChange"])])]),c("div",L,[X,c("div",$,"min: "+h(e.min)+" value: "+h(e.value2)+" max: "+h(e.max)+" step: "+h(e.step2)+" precision: "+h(e.precision),1),c("div",A,[c(r,{min:e.min,max:e.max,step:e.step2,modelValue:e.value2,"onUpdate:modelValue":n[2]||(n[2]=n=>e.value2=n),precision:e.precision,onChange:e.sliderInputChange},null,8,["min","max","step","modelValue","precision","onChange"])])])],64)},M(O).mount("#app");
